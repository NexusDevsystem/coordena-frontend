<!DOCTYPE html>
<html lang="pt-BR">

<head>
  <meta charset="UTF-8" />
  <title>Painel de Administração – Coordena+</title>

  <!-- Link para CSS principal -->
  <link rel="stylesheet" href="../assets/css/styles.css" />

  <!-- Bootstrap 5 e FontAwesome (CDN) -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet" />

  <!-- Fonte Lato (Google Fonts) já importada no CSS -->
</head>

<body class="bg-gray-100 dark:bg-gray-900 text-gray-900 dark:text-gray-100 transition-colors duration-500">

  <!-- ================================================
       OFFCANVAS MENU
       ================================================ -->
  <header class="offcanvas-menu">
    <input type="checkbox" id="toggle-menu" />

    <!-- Ícone hambúrguer / X -->
    <label for="toggle-menu" class="toggle-open"></label>

    <nav id="side-menu">
      <!-- Bloco usuário logado -->
      <div class="menu-user-info">
        <div id="menu-user-name">Seu Nome</div>
        <div id="menu-user-email">seu.email@exemplo.com</div>
      </div>

      <!-- Botão de fechar (X) -->
      <label for="toggle-menu" class="toggle-close"></label>

      <!-- Lista de navegação -->
      <ul class="menu-list">
        <li>
          <a href="#dashboard">
            <i class="fas fa-home"></i>
            <span>Dashboard</span>
          </a>
        </li>
        <li>
          <a href="#usuarios">
            <i class="fas fa-user-check"></i>
            <span>Usuários Pendentes</span>
          </a>
        </li>
        <li>
          <a href="#reservas">
            <i class="fas fa-calendar-alt"></i>
            <span>Reservas Pendentes</span>
          </a>
        </li>
        <li>
          <a href="#labs">
            <i class="fas fa-flask"></i>
            <span>Labs</span>
          </a>
        </li>
        <li>
          <a href="#configuracoes">
            <i class="fas fa-cog"></i>
            <span>Configurações</span>
          </a>
        </li>
      </ul>

      <!-- Botões Tema / Sair -->
      <div class="menu-footer-btns">
        <!-- Botão Tema -->
        <button id="menu-theme-btn" class="footer-btn" aria-label="Alternar tema">
          <!-- Ícone Sol -->
          <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-sun" viewBox="0 0 24 24" fill="none"
            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <circle cx="12" cy="12" r="5" />
            <line x1="12" y1="1" x2="12" y2="3" />
            <line x1="12" y1="21" x2="12" y2="23" />
            <line x1="4.22" y1="4.22" x2="5.64" y2="5.64" />
            <line x1="18.36" y1="18.36" x2="19.78" y2="19.78" />
            <line x1="1" y1="12" x2="3" y2="12" />
            <line x1="21" y1="12" x2="23" y2="12" />
            <line x1="4.22" y1="19.78" x2="5.64" y2="18.36" />
            <line x1="18.36" y1="5.64" x2="19.78" y2="4.22" />
          </svg>
          <!-- Ícone Lua -->
          <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-moon" viewBox="0 0 24 24" fill="none"
            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M21 12.79A9 9 0 0111.21 3 7 7 0 0012 21a9 9 0 009-8.21z" />
          </svg>
        </button>

        <!-- Botão Logout -->
        <button id="menu-logout-btn" class="footer-btn logout" aria-label="Sair">
          <!-- Ícone de porta/saída -->
          <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-logout" viewBox="0 0 24 24" fill="none"
            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M9 21H5a2 2 0 01-2-2V5a2 2 0 012-2h4" />
            <polyline points="16 17 21 12 16 7" />
            <line x1="21" y1="12" x2="9" y2="12" />
          </svg>
        </button>
      </div>
    </nav>
  </header>

  <!-- ================================================
       CONTEÚDO PRINCIPAL
       ================================================ -->
  <div class="container-admin">
    <!-- Cabeçalho do painel -->
    <div class="admin-header">
      <div>
        <h1>Painel de Administração</h1>
        <p class="text-light">Gerencie solicitações de usuários e reservas</p>
      </div>
    </div>

    <!-- Abas: Usuários / Reservas -->
    <ul class="nav tab-coordena mb-3" role="tablist">
      <li class="nav-item" role="presentation">
        <button class="nav-link active" id="tab-usuarios" data-bs-toggle="tab" data-bs-target="#usuarios-pendentes-pane"
          type="button" role="tab" aria-controls="usuarios-pendentes-pane" aria-selected="true">
          <i class="fas fa-user-check me-1"></i> Usuários Pendentes
        </button>
      </li>
      <li class="nav-item" role="presentation">
        <button class="nav-link" id="tab-reservas" data-bs-toggle="tab" data-bs-target="#reservas-pendentes-pane"
          type="button" role="tab" aria-controls="reservas-pendentes-pane" aria-selected="false">
          <i class="fas fa-calendar-alt me-1"></i> Reservas Pendentes
        </button>
      </li>
    </ul>

    <div class="tab-content">
      <!-- ===========================
           PAINEL: USUÁRIOS PENDENTES
           =========================== -->
      <div class="tab-pane fade show active" id="usuarios-pendentes-pane" role="tabpanel"
        aria-labelledby="tab-usuarios">
        <!-- Busca e ordenação -->
        <div class="search-container mb-4">
          <div class="search-box">
            <i class="fas fa-search"></i>
            <input type="text" id="busca-usuarios" class="form-control"
              placeholder="Buscar usuário por nome ou email..."
              oninput="paginaAtualUsuarios = 1; renderizarUsuariosPendentes();" />
          </div>
          <select id="ordenacao-usuarios" class="form-select"
            onchange="paginaAtualUsuarios = 1; renderizarUsuariosPendentes();">
            <option value="createdAt">Ordem de Chegada</option>
            <option value="name">Nome (A-Z)</option>
            <option value="email">Email (A-Z)</option>
          </select>
        </div>

        <!-- Local onde os cards de usuários pendentes serão renderizados -->
        <div id="lista-usuarios-pendentes"></div>
      </div>

      <!-- ===========================
           PAINEL: RESERVAS PENDENTES
           =========================== -->
      <div class="tab-pane fade" id="reservas-pendentes-pane" role="tabpanel" aria-labelledby="tab-reservas">
        <!-- Busca e ordenação -->
        <div class="search-container mb-4">
          <div class="search-box">
            <i class="fas fa-search"></i>
            <input type="text" id="busca-reservas" class="form-control"
              placeholder="Buscar reserva por lab ou requisitante..."
              oninput="paginaAtualReservas = 1; renderizarReservasPendentes();" />
          </div>
          <select id="ordenacao-reservas" class="form-select"
            onchange="paginaAtualReservas = 1; renderizarReservasPendentes();">
            <option value="date">Data</option>
            <option value="lab">Lab (A-Z)</option>
            <option value="responsible">Requisitante (A-Z)</option>
          </select>
        </div>

        <!-- Local onde os cards de reservas pendentes serão renderizados -->
        <div id="lista-reservas-pendentes"></div>
      </div>
    </div>
  </div>


  <!-- ================================================
       TOAST PARA NOTIFICAÇÕES IN-APP (Bootstrap)
       ================================================ -->
  <div class="position-fixed bottom-0 end-0 p-3" style="z-index: 2000;">
    <div id="toastNovoCadastro" class="toast align-items-center text-bg-warning border-0" role="alert"
      aria-live="assertive" aria-atomic="true">
      <div class="d-flex">
        <div class="toast-body" id="meuToastBody">
          <!-- Texto preenchido dinamicamente -->
        </div>
        <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast"
          aria-label="Fechar"></button>
      </div>
    </div>
  </div>


  <!-- ================================================
       Scripts: Bootstrap, Socket.IO e nosso main.js
       ================================================ -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <script src="/socket.io/socket.io.js"></script>
  <script src="../assets/js/main.js"></script>
</body>

</html>